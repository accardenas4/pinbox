<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GuÃ­a de Conexiones PINBOX</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
    }
    body {
      font-family: 'Montserrat', sans-serif;
      text-align: center;
      background: linear-gradient(to bottom right, #f5f2fc, #e5dbf4);
      color: #2e004f;
      padding: 40px 20px;
    }
    h1 {
      font-size: 2em;
      margin-bottom: 0.25em;
      color: #3f0071;
    }
    .progress-text {
      font-size: 1em;
      margin-bottom: 10px;
    }
    .progress-bar-container {
      width: 100%;
      max-width: 500px;
      margin: 0 auto 20px auto;
      background-color: #e0d0f5;
      border-radius: 10px;
      overflow: hidden;
    }
    .progress-bar {
      height: 20px;
      background-color: #6a1b9a;
      width: 0%;
      transition: width 0.3s ease;
    }
    .goto-step-button {
      margin-top: 30px;
    }
    .goto-step-button button {
      padding: 10px 24px;
      background-color: #6a1b9a;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      font-size: 1em;
    }
    .goto-step-form {
      margin-top: 15px;
      display: none;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    .goto-step-form.show {
      display: block;
      opacity: 1;
    }
    .goto-step-form input {
      padding: 10px;
      font-size: 1em;
      width: 120px;
      max-width: 100%;
      margin-right: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    .goto-step-form button {
      padding: 10px 20px;
      font-size: 1em;
      font-weight: bold;
      background-color: #6a1b9a;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    .step {
      font-size: 1.4em;
      margin: 20px auto;
      background-color: #ffffffc9;
      padding: 30px 20px;
      border-radius: 16px;
      width: 100%;
      max-width: 600px;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
    }
    .pin-container {
      margin-top: 15px;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
      gap: 10px;
    }
    .pin {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background-color: #6a1b9a;
      color: white;
      font-weight: bold;
      font-size: 2em;
      box-shadow: 0 2px 6px rgba(0,0,0,0.3);
    }
    .arrow {
      font-size: 2em;
      color: #3f0071;
    }
    .step-buttons {
      margin-top: 30px;
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 12px;
    }
    .step-buttons button, #saveButton {
      padding: 12px 24px;
      font-size: 1em;
      font-weight: 600;
      color: #fff;
      background-color: #6a1b9a;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    #saveButton {
      margin-top: 20px;
    }
    #saveLinkMessage {
      display: none;
      margin-top: 15px;
      padding: 12px;
      background-color: #25d366;
      color: white;
      border-radius: 10px;
      font-weight: 600;
      animation: fadeout 3s forwards;
    }
    @keyframes fadeout {
      0% { opacity: 1; }
      80% { opacity: 1; }
      100% { opacity: 0; display: none; }
    }
    .share-links {
      margin-top: 10px;
    }
    .share-links a {
      display: inline-block;
      margin: 5px 10px;
      color: #fff;
      background-color: #25D366;
      padding: 8px 16px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: bold;
    }
    @media (max-width: 500px) {
      .pin {
        width: 60px;
        height: 60px;
        font-size: 1em;
      }
      .arrow {
        font-size: 1.5em;
      }
      h1 {
        font-size: 1.5em;
      }
     .step-buttons button {
      padding: 30px 30px;
      font-size: 1em;
      font-weight: 600;
      color: #fff;
      background-color: #6a1b9a;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    }
  </style>
</head>
<body>
  <h1>ðŸŒŸ</h1>
      <h1>PINBOX</h1>
  <p>Tu Obra Paso a Paso</p>
  <div class="progress-text" id="progressDisplay">Progreso: 0 / 0 pasos</div>
  <div class="progress-bar-container">
    <div id="progressBar" class="progress-bar"></div>
  </div>
  <div class="goto-step-button">
    <button onclick="mostrarFormularioPin()">Ir a un paso especÃ­fico</button>
  </div>
  <div class="goto-step-form" id="gotoStepForm">
    <label for="inputPin">Â¿En quÃ© paso te quedaste?</label><br>
    <input type="number" id="inputPin" placeholder="Ej: 125">
    <button onclick="buscarPorPaso()">Saltar</button>
  </div>
  <div id="stepDisplay" class="step"></div>
  <div class="step-buttons">
    <button id="btnPrev">Anterior</button>
    <button id="btnNext">Siguiente</button>
  </div>
  <button id="saveButton" onclick="guardarProgreso()">Compartir progreso</button>
  <div id="saveLinkMessage"></div>
  <div class="share-links" id="shareLinks" style="display: none;"></div>
  <script>
    const patron = [0,124,10,150,9,147,8,123,7,148,13,126,287,116,283,111,280,108,278,109,281,106,279,121,5,139,4,137,10,142,286,118,2,145,285,143,12,149,11,125,14,151,8,127,16,147,41,140,5,132,26,131,24,130,2,148,15,150,21,154,18,142,0,114,280,104,277,109,284,144,4,141,282,123,11,151,46,156,50,159,52,161,20,133,286,127,17,146,287,122,9,125,283,140,8,143,39,137,285,134,19,142,281,71,236,70,242,83,243,84,241,82,240,81,239,78,238,76,274,91,253,89,252,87,251,86,245,88,254,124,20,153,14,141,40,136,11,127,256,128,5,149,22,129,280,143,36,137,283,145,0,111,234,68,240,69,235,70,178,71,180,73,269,74,183,72,284,146,43,149,16,115,251,88,273,75,275,134,261,68,241,67,235,71,142,7,120,6,122,15,152,10,192,9,153,49,157,13,111,233,66,262,72,280,172,98,170,94,166,99,169,95,165,56,160,53,265,77,240,80,247,90,188,92,161,59,212,62,163,23,131,260,135,37,205,38,145,73,182,74,286,147,3,144,20,125,12,194,32,140,16,130,261,117,4,133,276,169,101,172,94,171,97,200,34,262,69,273,81,281,174,279,77,192,11,108,228,109,232,65,239,83,249,84,265,80,218,130,21,132,259,61,270,72,283,177,98,168,102,165,100,276,105,175,25,179,71,285,176,109,231,112,287,143,6,126,217,79,278,102,163,53,266,82,243,73,0,140,70,181,108,257,95,255,128,1,138,38,203,113,14,196,87,186,85,246,51,265,82,163,271,119,17,159,54,267,162,96,172,282,71,234,110,175,116,250,92,158,14,154,73,149,83,264,77,5,188,238,85,252,33,263,66,231,110,198,93,189,237,70,176,114,251,91,0,153,75,1,136,39,207,141,72,177,112,174,278,144,5,98,200,248,126,18,118,3,113,283,171,104,9,193,243,31,260,64,222,23,226,105,245,50,210,46,208,69,280,78,257,125,209,123,21,157,37,197,246,48,256,32,253,86,272,74,148,1,131,188,76,190,236,120,206,40,134,67,259,133,16,155,62,274,166,58,271,75,216,60,268,55,163,103,225,25,220,26,173,279,135,77,152,84,184,233,68,276,47,155,93,249,199,35,261,79,139,42,226,180,107,181,229,28,260,150,284,175,97,170,69,138,29,178,111,230,67,167,87,245,198,36,155,12,107,277,166,265,31,134,191,241,194,144,81,217,127,2,74,189,123,57,211,60,162,263,41,172,114,185,232,64,277,78,246,201,112,167,273,46,231,186,88,244,89,197,96,176,111,235,65,131,204,36,261,63,237,117,174,286,84,219,20,245,82,5,95,154,48,281,175,277,99,164,52,267,62,152,287,74,249,54,122,241,29,250,138,13,223,177,108,285,141,34,257,155,85,254,90,148,42,208,126,185,83,11,140,207,66,239,189,7,79,181,75,193,106,182,228,67,268,168,110,279,234,185,89,143,71,275,165,54,270,164,64,226,183,41,203,128,184,0,93,254,205,117,170,90,15,225,28,259,157,43,180,109,233,281,49,163,106,274,119,174,24,221,88,27,261,210,252,96,199,244,202,251,33,133,185,100,212,267,57,272,168,93,274,46,242,85,9,141,90,1,52,287,79,137,219,61,129,258,60,153,99,158,78,218,77,175,115,284,179,227,47,278,235,193,147,91,256,19,151,74,214,155,264,32,248,81,272,120,172,70,247,196,33,142,193,238,285,105,213,58,121,252,24,176,113,249,37,124,53,222,182,70,284,92,187,132,28,266,56,230,59,120,12,139,286,146,194,234,108,162,270,169,261,173,68,229,44,255,29,90,151,97,178,103,49,247,94,164,57,176,224,55,258,23,262,75,3,95,200,118,168,256,210,122,170,263,73,216,21,177,82,146,4,87,273,229,180,76,239,191,8,156,94,253,206,47,158,80,9,126,56,269,35,264,159,97,198,16,124,239,284,172,258,92,2,51,155,103,181,223,74,187,86,248,129,27,180,127,244,205,250,40,146,24,84,263,22,201,282,73,33,271,53,236,192,148,210,99,149,191,100,50,283,240,190,136,25,152,196,233,114,204,119,35,140,55,118,172,262,163,86,219,45,244,84,16,215,269,160,19,174,113,230,272,92,197,115,180,1,242,66,135,41,210,61,151,23,254,14,224,185,63,129,179,101,269,45,89,16,226,266,165,272,32,96,146,72,237,286,120,187,222,12,60,214,270,34,159,91,140,278,95,49,235,58,251,28,66,234,195,239,30,139,194,245,104,48,209,127,202,111,2,136,79,215,164,26,219,260,208,142,196,103,58,177,67,22,266,59,167,119,1,149,197,232,92,139,43,5,246,36,253,122,38,252,155,195,77,134,287,178,227,108,62,241,192,78,183,221,102,157,76,6,55,248,106,180,80,133,88,46,238,77,275,30,249,70,213,255,12,192,143,277,141,15,114,268,36,125,211,74,248,47,105,256,158,53,246,108,169,267,137,42,181,225,10,109,199,236,186,138,93,20,162,113,2,40,260,115,161,87,47,264,164,83,35,250,211,5,56,103,172,107,170,256,93,287,213,101,49,284,147,274,31,70,241,88,198,231,51,160,119,267,37,144,69,245,125,169,207,67,187,235,194,11,156,251,39,82,122,22,259,220,64,25,257,88,3,179,116,240,84,157,265,227,274,169,29,176,282,242,30,118,236,79,280,100,214,174,95,266,217,172,36,76,150,190,96,152,104,10,251,15,131,220,44,90,229,61,168,24,224,80,283,151,105,201,233,280,138,97,163,112,257,59,102,173,215,63,154,33,258,134,205,139,71,241,206,103,36,158,199,19,264,69,25,181,286,41,182,110,203,243,16,91,228,276,28,253,144,191,75,159,224,65,278,122,165,51,99,268,88,142,198,32,273,56,117,239,45,144,85,182,80,214,123,276,236,77,286,107,229,58,282,109,226,176,212,124,188,221,62,231,89,2,186,223,17,87,134,182,125,74,268,163,66,275,94,133,218,167,129,3,39,73,236,285,146,13,45,1,41,201,245,281,144,56,254,169,17,64,180,111,247,4,77,124,170,116,14,134,262,209,18,63,26,86,197,154,259,109,249,213,175,72,216,162,22,82,220,140,38,262,20,61,251,204,165,111,171,121,280,107,67,179,87,242,35,256,217,66,37,116,1,216,268,18,86,5,172,68,185,145,209,52,94,197,237,43,198,148,277,168,126,246,49,85,120,270,103,235,200,230,45,280,53,0,244,196,238,64,135,192,239,25,254,139,62,218,129,89,193,31,180,69,40,225,54,162,124,259,30,79,250,84,19,172,277,128,10,191,242,122,78,138,5,182,215,49,258,164,45,175,101,266,23,113,195,143,264,152,41,6,177,211,98,136,278,27,58,151,188,91,128,237,275,83,138,26,262,221,257,166,86,48,109,150,92,156,79,252,8,84,271,44,184,107,255,172,25,265,219,65,261,108,57,194,81,142,72,144,189,71,209,168,263,68,205,283,43,92,146,70,279,230,203,232,48,236,123,163,274,139,96,248,114,160,250,52,20,267,174,55,166,22,175,224,180,285,119,13,88,164,65,5,109,214,19,62,250,207,116,173,106,1,155,192,99,132,284,248,39,7,190,133,97,283,59,218,85,52,197,105,9,220,264,175,63,107,46,162,127,14,269,231,199,42,266,213,184,76,245,195,17,227,78,31,61,183,232,88,6,138,251,145,93,163,116,272,59,32,77,165,87,151,203,28,170,276,23,180,139,284,241,1,97,137,206,49,96,19,271,194,102,273,216,46,12,81,249,129,9,120,26,155,108,16,160,104,24,261,148,45,226,11,256,149,279,48,224,262,73,173,98,201,227,40,77,180,122,33,138,195,85,234,200,53,81,238,126,161,109,186,66,100,216,172,272,219,129,158,194,240,43,254,166,0,221,30,92,286,124,12,239,120,201,63,233,271,17,83,244,28,88,119,51,208,240,60,21,265,113,56,207,46,183,152,186,4,94,141,275,101,196,84,121,159,68,268,166,120,256,97,195,79,213,132,264,178,225,203,252,30,67,257,27,228,106,234,115,171,26,59,96,278,242,199,116,17,135,34,247,214,286,52,127,159,189,81,176,94,239,209,43,76,10,266,144,14,122,246,193,145,105,244,77,6,168,86,192,103,167,264,92,7,135,87,45,20,180,230,69,174,104,53,255,222,266,88,246,199,283,108,183,82,50,256,100,34,152,89,184,219,77,19,112,149,94,128,222,32,262,153,260,93,199,14,163,107,227,70,212,119,233,55,203,157,190,242,205,136,9,257,116,146,188,160,48,275,243,36,74,238,24,268,53,98,272,16,208,172,109,11,173,287,40,180,216,259,170,100,25,126,163,275,177,60,236,270,27,106,69,37,7,146,63,279,24,112,233,72,243,90,278,131,217,67,245,287,110,248,221,6,152,50,124,96,242,89,199,98,33,81,225,184,148,113,272,37,105,74,137,192,22,280,82,141,190,49,226,202,158,56,28,111,154,3,244,32,177,1,84,267,164,273,140,61,213,155,22,223,259,128,18,218,274,14,105,183,286,247,54,28,137,252,66,204,138,226,187,210,147,39,200,282,114,140,194,56,91,169,220,53,133,92,223,246,104,192,46,86,0,257,45,125,284,60,197,44,150,195,221,268,145,176,69,2,33,53,122,154,251,75,229,261,29,258,152,19,127,264,214,64,118,169,105,279,89,233,116,72,182,45,211,167,97,253,161,129,212,14,44,268,78,175,146,272,108,25,85,59,180,267,66,111,188,10,113,232,7,103,254,31,151,271,199,132,8,273,70,143,100,210,238,54,92,207,175,28,197,15,42,75,112,209,7,157,64,11,247,198,249,144,1,115,65,206,170,194,29,101,131,178,4,216,124,167,58,260,234,47,6,140,185,35,205,132,275,108,256,26,71,102,224,19,282,88,56,225,264,51,249,119,54,32,115,157,209,29,240,79,105,2,53,113,164,13,232,75,196,218,49,118,188,69,103,150,184,141,221,77,111,142,179,36,8,131,17,284,246,159,133,243,68,235,122,169,62,112,205,178,266,210,234,34,195,56,239,273,15,191,82,131,55,252,116,215,260,5,159,42,236,117,186,74,283,133,262,86,177,135,216,39,257,228,163,40,6,242,139,222,189,112,58,164,201,80,38,251,278,165,64,101,15,96,265,110,78,5,268,171,119,284,43,221,193,26,117,162,94,211,48,172,40,63,253,141,57,214,167,2,205,59,255,5,227,31,95,238,195,50,220,84,136,44,74,147,60,278,25,145,229,207,286,258,217,24,128,62,82,235,112,249,161,41,92,20,247,125,278,178,151,248,280,57,148,126,277,103,204,180,72,171,256,190,101,263,228,55,4,121,207,249,96,196,16,157,134,274,82,253,218,170,280,203,181,113,285,42,89,117,139,22,100,46,262,137,286,155,98,67,133,222,173,210,11,130,282,181,105,39,9,35,92,245,224,86,58,269,21,159,18,270,83,198,108,216,246,110,169,128,153,174,6,220,196,117,172,29,99,207,257,94,40,208,179,120,268,28,5,81,234,70,36,226,131,30,202,64,152,72,248,211,237,61,176,267,111,199,168,251,102,205,41,77,172,139,166,96,210,71,276,12,152,131,104,32,148,8,240,0,183,116,262,283,174,56,259,25,230,108,83,61,185,205,69,241,268,89,51,150,170,269,165,240,15,112,34,178,209,149,66,258,278,10,31,121,19,236,256,131,4,143,164,227,142,238,122,269,90,54,198,91,47,146,221,56,77,158,24,241,45,272,162,125,100,283,18,97,273,36,120,208,153,11,277,111,52,223,134,215,190,129,85,266,140,75,2,22,264,114,57,87,247,31,181,126,263,65,225,160,131,254,73,109,82,34,201,21,170,75,186,60,84,239,174,41,266,189,138,236,2,153,80,251,106,150,29,232,39,129,285,73,194,15,265,212,177,37,57,24,186,82,147,70,250,97,46,66,162,187,237,76,231,58,171,92,127,243,111,185,2,255,136,168,39,203,134,46,226,179,65,35,13,275,123,284,216,173,260,76,27,199,258,122,145,192,273,127,252,277,37,102,233,26,286,103,13,217,242,94,19,210,2,83,230,91,23,164,125,71,50,176,99,36,12,98,120,273,149,37,245,128,257,61,187,49,270,104,261,105,192,33,229,200,251,223,107,276,118,24,161,17,206,154,26,201,268,20,176,149,89,14,72,140,218,239,22,43,173,94,66,210,125,32,185,155,121,281,132,108,45,237,134,229,253,286,67,138,113,178,23,287,206,46,139,8,145,40,189,216,118,230,251,19,217,179,205,48,80,270,227,247,268,105,257,68,91,236,212,0,243,76,117,283,221,86,116,205,124,202,59,144,109,224,106,231,7,218,271,158,254,187,156,248,64,163,1,117,169,145,17,82,212,191,87,277,242,263,44,165,203,67,222,171,95,60,111,183,143,170,105,35,180,45,154,133,103,54,199,278,195,21,210,150,61,109,192,51,263,31,0,179,88,255,184,57,262,84,275,194,214,183,284,143,118,257,120,141,174,3,217,108,224,92,189,261,43,65,160,96,116,191,74,49,229,115,9,185,6,27,147,276,42,197,30,175,152,24,48,164,255,141,199,58,36,280,81,242,144,41,61,89,254,225,43,142,167,120,174,276,253,215,150,235,214,126,66,155,200,104,68,29,180,70,92,190,124,274,131,47,236,113,5,234,100,77,54,218,34,117,175,259,62,82,228,103,31,132,29,202,20,281,97,74,101,17,283,250];
    let step = 0;
    const display = document.getElementById("stepDisplay");
    const progress = document.getElementById("progressDisplay");
    const progressBar = document.getElementById("progressBar");
    const saveMsg = document.getElementById("saveLinkMessage");
    const shareLinks = document.getElementById("shareLinks");
    const gotoForm = document.getElementById("gotoStepForm");

    const urlParams = new URLSearchParams(window.location.search);
    const pasoGuardado = parseInt(urlParams.get("paso"));
    if (!isNaN(pasoGuardado) && pasoGuardado >= 0 && pasoGuardado < patron.length - 1) {
      step = pasoGuardado;
    }

    function updateDisplay() {
      const totalSteps = patron.length - 1;
      if (step < 0) step = 0;
      if (step >= totalSteps) step = totalSteps - 1;
      const pin1 = patron[step];
      const pin2 = patron[step + 1];
      display.innerHTML = `
        <div>Paso ${step + 1}:</div>
        <div class="pin-container">
          <span class="pin">${pin1}</span>
          <span class="arrow">â†’</span>
          <span class="pin">${pin2}</span>
        </div>
      `;
      document.getElementById("btnPrev").onclick = prevStep;
      document.getElementById("btnNext").onclick = nextStep;
      progress.innerText = `Progreso: ${step + 1} / ${totalSteps} pasos`;
      const percentage = ((step + 1) / totalSteps) * 100;
      progressBar.style.width = percentage + '%';
    }

    function mostrarFormularioPin() {
      gotoForm.classList.add("show");
    }

    function buscarPorPaso() {
      const pasoInput = parseInt(document.getElementById("inputPin").value);
      gotoForm.classList.remove("show");
      if (isNaN(pasoInput)) return;
      if (pasoInput >= 1 && pasoInput <= patron.length - 1) {
        step = pasoInput - 1;
        updateDisplay();
      } else {
        alert("Ese paso no es vÃ¡lido. Ingrese un nÃºmero entre 1 y " + (patron.length - 1));
      }
    }

    function nextStep() {
      if (step < patron.length - 2) {
        step++;
        updateDisplay();
      }
    }

    function prevStep() {
      if (step > 0) {
        step--;
        updateDisplay();
      }
    }

    function guardarProgreso() {
      const urlBase = window.location.href.split('?')[0];
      const urlConPaso = `${urlBase}?paso=${step}`;
      navigator.clipboard.writeText(urlConPaso).then(() => {
        saveMsg.innerText = `âœ… Enlace guardado en portapapeles: ${urlConPaso}`;
        saveMsg.style.display = 'block';
        setTimeout(() => {
          saveMsg.style.display = 'none';
        }, 3000);
        shareLinks.innerHTML = `
          <a href="https://api.whatsapp.com/send?text=Te comparto mi avance en PINBOX: ${encodeURIComponent(urlConPaso)}" target="_blank">Compartir por WhatsApp</a>
        `;
        shareLinks.style.display = 'block';
      }).catch(() => {
        saveMsg.innerText = `Copia manualmente: ${urlConPaso}`;
        saveMsg.style.display = 'block';
      });
    }

    window.onbeforeunload = function () {
      const urlBase = window.location.href.split('?')[0];
      const urlConPaso = `${urlBase}?paso=${step}`;
      return `Â¡No olvides guardar tu progreso! Puedes usar este enlace para continuar despuÃ©s: ${urlConPaso}`;
    };

    updateDisplay();
  </script>
</body>
</html>
